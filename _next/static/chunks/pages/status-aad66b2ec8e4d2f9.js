(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{2608:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/status",function(){return s(5386)}])},5386:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var r=s(1527),l=s(135),n=s(2346),a=s(959),i=s(4083),d=s(4977),c=s(6137),o=s(3491),u=s(9750),m=s(8059),x=s(8477),h=s(1618),b=s(5520),f=s(6517),p=s(752),g=s(9755),j=s(278),N=s(8593),k=s(5924),w=s(4587),v=s.n(w),_=s(7551);let Z=e=>{let{shard:t,selectedShard:s}=e,l=(0,a.useRef)(null),n=(0,_.Z)(),i=(0,a.useMemo)(()=>{let e=["server_count","cached_user_count","uptime","latency","last_updated"].every(e=>Object.keys(t).includes(e));return e?t.is_ready?"operational":"partial":"outage"},[t]),d=(0,a.useMemo)(()=>{switch(i){case"operational":return"text-green-500";case"partial":return"text-orange-500";case"outage":return"text-red-500"}},[i]),c=(0,a.useMemo)(()=>{switch(i){case"operational":return"Operational";case"partial":return"Partial Outage";case"outage":return"Outage"}},[i]),o=(0,a.useMemo)(()=>{if(t.uptime){let e=(0,j.Z)((0,N.Z)({start:0,end:1e3*t.uptime})).split(" "),s=e[0]+" "+e[1];return s}return 0},[t]),u=(0,a.useMemo)(()=>"operational"===i||"partial"===i,[i]);return(0,a.useEffect)(()=>{(n.width<=768||n.height<=768)&&s===t.shard_id&&window.scrollTo({top:l.current.offsetTop-112,behavior:"smooth"})},[n,t,s]),(0,r.jsxs)("div",{ref:l,className:(0,k.Z)("bg-bleed-background-950 border-2 py-6 transition duration-200 ease-linear rounded-3xl",s===t.shard_id?"ring-4 ring-opacity-25 ring-bleed-blue-3 border-bleed-blue-3/75":"border-bleed-background-850"),children:[(0,r.jsx)("div",{className:"px-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xl font-semibold",children:["Shard ",t.shard_id]}),(0,r.jsxs)("p",{className:"mt-1 text-xs font-medium text-neutral-400 inline-flex items-center",children:[(0,r.jsx)(m.Z,{strokeWidth:2,className:"inline-block h-3 w-3 mr-2 text-bleed-blue-3"}),u?(0,r.jsx)(g.Z,{datetime:new Date(t.last_updated),locale:"bleed"}):"now"]})]}),(0,r.jsxs)("span",{className:(0,k.Z)("text-sm inline-flex border border-bleed-background-800 items-center font-medium py-1 px-2.5 rounded-full",d),children:[(0,r.jsx)(x.Z,{className:(0,k.Z)("inline-block h-3 w-3 mr-2","operational"===i&&"animate-pulse"),fill:"currentColor"}),c]})]})}),(0,r.jsx)("hr",{className:"my-5 border-t-2 border-bleed-background-800"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 px-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-neutral-400 text-sm",children:"Uptime"}),(0,r.jsxs)("p",{className:"font-medium text-white mt-1 inline-flex items-center",children:[(0,r.jsx)(h.Z,{strokeWidth:2,className:"inline-block mr-2 h-4 w-4 text-neutral-500"}),u?o:"N/A"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-neutral-400 text-sm",children:"Latency"}),(0,r.jsxs)("p",{className:"font-medium text-white mt-1 inline-flex items-center",children:[(0,r.jsx)(b.Z,{strokeWidth:2,className:"inline-block mr-2 h-4 w-4 text-neutral-500"}),u?t.latency.toFixed(0)+"ms":"N/A"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-neutral-400 text-sm",children:"Servers"}),(0,r.jsxs)("p",{className:"font-medium text-white mt-1 inline-flex items-center",children:[(0,r.jsx)(f.Z,{strokeWidth:2,className:"inline-block h-3 w-3 mr-2 text-neutral-500"}),u?v()(t.server_count).format("0,0"):"N/A"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-neutral-400 text-sm",children:"Users"}),(0,r.jsxs)("p",{className:"font-medium text-white mt-1 inline-flex items-center",children:[(0,r.jsx)(p.Z,{strokeWidth:2,className:"inline-block h-3 w-3 mr-2 text-neutral-500"}),u?v()(t.cached_user_count).format("0,0"):"N/A"]})]})]})]})},y=e=>{let{shards:t,selectedShard:s}=e;return(0,r.jsx)("div",{className:"mt-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:t.map(e=>(0,r.jsx)(Z,{shard:e,selectedShard:s},e.shard_id))})};var S=s(5499);let W=()=>(0,r.jsxs)("div",{className:"mt-20 flex flex-col text-center items-center",children:[(0,r.jsx)(S.Z,{className:"w-20 h-20 text-neutral-600",strokeWidth:1.5}),(0,r.jsx)("p",{className:"mt-6 text-lg text-neutral-400 font-semibold tracking-tight",children:"No status found"})]}),E=()=>(0,r.jsxs)("div",{className:"mt-20 flex flex-col text-center items-center",children:[(0,r.jsx)(S.Z,{className:"w-20 h-20 text-text-red-500/40",strokeWidth:1.5}),(0,r.jsx)("p",{className:"mt-6 text-lg text-red-400 font-semibold tracking-tight",children:"Could not load status"})]});var M=function(){let{exact:e,global:t,multiline:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{exact:!0,global:!0,multiline:!0},r=BigInt(Date.now())-1420070400000n,l=(r<<22n|1n<<17n|1n<<12n).toString().length,n="\\d{"+[17,l]+"}",a="";return e&&(n="^"+n+"$"),t&&(a+="g"),s&&(a+="m"),RegExp(n,a)}();let O=e=>{let{selectedShard:t,setSelectedShard:s}=e,[i,d]=(0,a.useState)("");return(0,r.jsxs)("div",{className:"flex flex-col gap-8 sm:flex-row items-start sm:items-end sm:justify-between",children:[(0,r.jsxs)("h1",{className:"flex items-center tracking-tight text-3xl font-semibold",children:[(0,r.jsx)("span",{className:"p-3 mr-5 inline-flex items-center justify-center bg-bleed-background-850 rounded-full",children:(0,r.jsx)(l.Z,{className:"h-6 w-6 inline-block text-bleed-blue-1",strokeWidth:2})}),"Shards"]}),(0,r.jsx)("div",{className:"flex flex-col sm:max-w-[17rem] w-full text-center sm:text-right",children:(0,r.jsxs)("div",{className:"relative flex items-center gap-2 group",children:[(0,r.jsx)("input",{type:"text",className:"bg-bleed-background-900 transition duration-200 ease-linear hover:bg-bleed-background-850 outline-none focus:border-bleed-background-650 placeholder:text-sm text-bleed-blue-1 border w-full border-bleed-background-800 py-3 sm:py-2.5 px-4 rounded-xl font-medium placeholder:text-neutral-500",placeholder:"Enter your Server ID",onInput:e=>{let t=e.target.value.trim();t.length||s(!1),d(t)},value:i}),(0,r.jsx)("button",{onClick:function(){try{i.match(M)?s(Math.floor(i/4194304)%5):s(!1)}catch(e){s(!1)}},className:"bg-bleed-background-750 hover:bg-bleed-background-700 border border-transparent group-focus-within:text-white transition duration-200 ease-linear text-neutral-300 rounded-xl py-3.5 sm:py-3 px-4 sm:px-3.5",children:(0,r.jsx)(n.Z,{className:"h-5 w-5",strokeWidth:2})})]})})]})},C=e=>{let{data:t,error:s,selectedShard:l}=e;return t?s?(0,r.jsx)(E,{}):(0,r.jsx)(y,{shards:t.shards,selectedShard:l}):(0,r.jsx)(W,{})},A=()=>{let{cache:e}=(0,i.kY)(),t=(0,o.Z)(1e3),s=(0,a.useMemo)(()=>{let t=e.get("shards.json");return!!t&&t.data&&!t.error},[]),{data:l,error:n,isLoading:m}=(0,i.ZP)("shards.json",{refreshInterval:1e4}),[x,h]=(0,a.useState)(!1);return(0,r.jsxs)(u.Z,{title:"status",children:[(0,r.jsx)(O,{selectedShard:x,setSelectedShard:h}),(0,r.jsx)(d.M,{mode:"wait",children:m||!s&&t?(0,r.jsx)(c.Z,{},"loading"):(0,r.jsx)(C,{data:l,error:n,selectedShard:x})})]})};var I=A}},function(e){e.O(0,[103,535,691,80,774,888,179],function(){return e(e.s=2608)}),_N_E=e.O()}]);